# Отчёт о проделанной работе
**Период:** 3-4 недели проекта  
**Дата составления:** 03.10.2025  

## Описание проделанной работы

За третью и четвёртую недели разработки сделано:
- Убран ненужный кодовый функционал и заменён на релевантные для проекта методы
- Работа с Regex и валидацией:
  - Исправлены Regex pattern's для валидации имени и группы студента
  - Добавлены функции formalizeName и formalizeGroup в data class Student
  - Теперь валидация происходит с помощью сверки formalized name и formalized group с regex pattern
- Исправлена и введена функция обновления студента в главном Activity
- Работа с NFC
  - Изучение NFC(Устройства/полей/разновидностей/метода чтения и записи)
  - В Add_Fragment(окно при нажатии кнопки добавить в Main_Activity) добавлена кнопка считывания NFC


## Выполненные задачи

| Задача | Статус | Результат |
|--------|--------|-----------|
| Regex pattern issues fix | &check; | Добавлены новые функции formalized, поправлены patterns |
| Работа над классом | &check; | Добавлены новые поля в data class student для nfc и убран номер в журнале |
| Работа с интерфейсом | &check; | В интерфейс добавлена кнопка считывания NFC + Debug Toast's, возможен Update данных студента |
| Работа с NFC | &check; | Изучен и запрограммирован функционал чтения NFC TAG's, метка также сохраняется в JSON файл с остальными полями обьекта|


## Поэтапное описание

### Regex pattern fix
В data class student добавлены функции для приведения ФИО студента и группы к формальным значениям\
То есть теперь введённое с маленьких букв фио(firstname lastname middlename) с помощью функции formalizeName будет приведено к виду Firstname Lastname Middlename\
Соответственно с функция formalizeGroup приводит введённую группу из формата икс *** в формат ИКС-432 (работает и для других похожих вводных)

<img width="1130" height="749" alt="image" src="https://github.com/user-attachments/assets/b590f2f2-4b57-4721-97d6-9fcbbc1ae6cc" />

Также были исправлены сами regex patterns:

<img width="1037" height="150" alt="image" src="https://github.com/user-attachments/assets/98717656-0b84-4fd2-9797-d288b0d5c300" />

### Работа над классом
- Убрано поле studentNumber и было заменено на поле studentNFC в data class Student, для удобства регистрации студента.\
  - Для студента теперь журнальный номер определяется автоматически исходя из ФИО
<img width="764" height="214" alt="image" src="https://github.com/user-attachments/assets/18da767c-ab8e-4f5c-bf70-37a8ca7ac3f2" />

### Работа с интерфейсом
- В интерфейс была добавлена фича для редактирования данных о студенте по клику на запись
- Добавлена кнопка для чтения NFC tag и всплывающиеся сообщения (Toasts) для Debug и удобства пользования

<img width="334" height="729" alt="image" src="https://github.com/user-attachments/assets/632cf15d-3683-4051-9665-67d79fea71f7" />
<img width="340" height="750" alt="image" src="https://github.com/user-attachments/assets/49a983d3-ccd2-4f59-a693-2c3bdc775130" />


### Работа с NFC
- Был изучен принцип работы технологии NFC и виды меток
- Из различных публикаций и гайдов в сети интернет был изучен и реализован способ чтения меток NFC
- Добавлен способ валидации для меток NFC (два студента не могут иметь одинаковый NFC TAG)
- Режим чтения метки активируется по нажатии кнопки и длится определённое заданное в переменной время, после чего возвращается в неактивное состояние

  <img width="1291" height="802" alt="image" src="https://github.com/user-attachments/assets/44d1431c-e206-48f1-979d-5a762782f25c" />
  <img width="1128" height="346" alt="image" src="https://github.com/user-attachments/assets/7bba8b76-ece5-4f47-af12-a2efb85a070f" />


## TODO/Issues
- [ ] Продумать регистрацию студента в системе
- [ ] Сделать dropdown меню для отображения студентов по группам
- [ ] Добавить удаление студентов из присутствующих при помощи свайпа с подтверждением
- [ ] Тщательно протестировать regex patterns
- [ ] Разработать функционал для парсинга данных из файла JSON формата
- [ ] Поработать над валидацией (Некорректные regex, описаны в issues github форка)
